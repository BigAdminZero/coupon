<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.exercise.mapper.ActivityMapperCustom" >

    <!-- 新增活动 -->
    <insert id="addActivity" parameterType="com.exercise.entity.Activity">
        INSERT INTO
        activity (name, type, start_time, end_time, creator, status)
        VALUES
        (#{name}, #{type}, #{start_time}, #{end_time}, #{creator}, #{status})
    </insert>

    <!-- 根据id查询活动 -->
    <select id="selectActivityById" parameterType="integer" resultType="com.exercise.entity.Activity">
        SELECT * FROM
        activity
        WHERE
        activity_id = #{activity_id}
    </select>

    <!-- 更新活动 -->
    <update id="updateActivity" parameterType="com.exercise.entity.Activity">
        UPDATE
        activity
        <set>
            <if test="name != null">name = #{name},</if>
            <if test="type != null">type = #{type},</if>
            <if test="start_time != null">start_time = #{start_time},</if>
            <if test="end_time != null">end_time = #{end_time},</if>
            <if test="creator != null">creator = #{creator},</if>
            <if test="status != null">status = #{status}</if>
        </set>
        WHERE activity_id = #{activity_id}
    </update>

    <!-- 删除活动 -->
    <delete id="deleteActivityById">
        DELETE FROM
        activity
        WHERE
        activity_id = #{activity_id}
    </delete>

</mapper>
